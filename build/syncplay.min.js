!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";!function(module){__webpack_exports__.a=Websock;var c,d,__WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(2),_StringfromCharCode=String.fromCharCode;function Websock(){this._websocket=null,this._rQi=0,this._rQlen=0,this._rQbufferSize=4194304,this._rQmax=this._rQbufferSize/8,this._rQ=null,this._sQbufferSize=10240,this._sQlen=0,this._sQ=null,this._eventHandlers={message:function(){},open:function(){},close:function(){},error:function(){}}}c=41943040,d=function(){try{var f=new Uint8Array([1,2,3]);return _StringfromCharCode.apply(null,f),function(g){return _StringfromCharCode.apply(null,g)}}catch(g){return function(h){return _StringfromCharCode.apply(null,Array.prototype.slice.call(h))}}}(),Websock.prototype={get_sQ:function(){return this._sQ},get_rQ:function(){return this._rQ},get_rQi:function(){return this._rQi},set_rQi:function(f){this._rQi=f},rQlen:function(){return this._rQlen-this._rQi},rQpeek8:function(){return this._rQ[this._rQi]},rQshift8:function(){return this._rQ[this._rQi++]},rQskip8:function(){this._rQi++},rQskipBytes:function(f){this._rQi+=f},rQshift16:function(){return(this._rQ[this._rQi++]<<8)+this._rQ[this._rQi++]},rQshift32:function(){return(this._rQ[this._rQi++]<<24)+(this._rQ[this._rQi++]<<16)+(this._rQ[this._rQi++]<<8)+this._rQ[this._rQi++]},rQshiftStr:function(f){void 0===f&&(f=this.rQlen());var g=new Uint8Array(this._rQ.buffer,this._rQi,f);return this._rQi+=f,d(g)},rQshiftBytes:function(f){return void 0===f&&(f=this.rQlen()),this._rQi+=f,new Uint8Array(this._rQ.buffer,this._rQi-f,f)},rQshiftTo:function(f,g){void 0===g&&(g=this.rQlen()),f.set(new Uint8Array(this._rQ.buffer,this._rQi,g)),this._rQi+=g},rQwhole:function(){return new Uint8Array(this._rQ.buffer,0,this._rQlen)},rQslice:function(f,g){return g?new Uint8Array(this._rQ.buffer,this._rQi+f,g-f):new Uint8Array(this._rQ.buffer,this._rQi+f,this._rQlen-this._rQi-f)},rQwait:function(f,g,h){if(this._rQlen-this._rQi<g){if(h){if(this._rQi<h)throw new Error("rQwait cannot backup "+h+" bytes");this._rQi-=h}return!0}return!1},flush:function(){0!==this._websocket.bufferedAmount&&__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug("bufferedAmount: "+this._websocket.bufferedAmount),0<this._sQlen&&this._websocket.readyState===WebSocket.OPEN&&(this._websocket.send(this._encode_message()),this._sQlen=0)},send:function(f){this._sQ.set(f,this._sQlen),this._sQlen+=f.length,this.flush()},send_string:function(f){this.send(new TextEncoder("utf-8").encode(f))},off:function(f){this._eventHandlers[f]=function(){}},on:function(f,g){this._eventHandlers[f]=g},_allocate_buffers:function(){this._rQ=new Uint8Array(this._rQbufferSize),this._sQ=new Uint8Array(this._sQbufferSize)},init:function(){this._allocate_buffers(),this._rQi=0,this._websocket=null},open:function(f,g){f.match(/^([a-z]+):\/\//)[1],this.init(),this._websocket=new WebSocket(f,g),this._websocket.binaryType="arraybuffer",this._websocket.onmessage=this._recv_message.bind(this),this._websocket.onopen=function(){__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug(">> WebSock.onopen"),this._websocket.protocol&&__WEBPACK_IMPORTED_MODULE_0__util__.a.Info("Server choose sub-protocol: "+this._websocket.protocol),this._eventHandlers.open(),__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug("<< WebSock.onopen")}.bind(this),this._websocket.onclose=function(i){__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug(">> WebSock.onclose"),this._eventHandlers.close(i),__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug("<< WebSock.onclose")}.bind(this),this._websocket.onerror=function(i){__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug(">> WebSock.onerror: "+i),this._eventHandlers.error(i),__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug("<< WebSock.onerror: "+i)}.bind(this)},close:function(){this._websocket&&(this._websocket.readyState!==WebSocket.OPEN&&this._websocket.readyState!==WebSocket.CONNECTING||(__WEBPACK_IMPORTED_MODULE_0__util__.a.Info("Closing WebSocket connection"),this._websocket.close()),this._websocket.onmessage=function(){})},_encode_message:function(){return new Uint8Array(this._sQ.buffer,0,this._sQlen)},_expand_compact_rQ:function(f){var g=f||this._rQlen-this._rQi>this._rQbufferSize/2;if(g&&(f?this._rQbufferSize=8*(this._rQlen-this._rQi+f):this._rQbufferSize*=2),this._rQbufferSize>c&&(this._rQbufferSize=c,this._rQbufferSize-this._rQlen-this._rQi<f))throw new Exception("Receive Queue buffer exceeded "+c+" bytes, and the new message could not fit");g?(f=this._rQ.buffer,this._rQmax=this._rQbufferSize/8,this._rQ=new Uint8Array(this._rQbufferSize),this._rQ.set(new Uint8Array(f,this._rQi))):this._rQ.set(new Uint8Array(this._rQ.buffer,this._rQi)),this._rQlen-=this._rQi,this._rQi=0},_decode_message:function(f){f=new Uint8Array(f);f.length>this._rQbufferSize-this._rQlen&&this._expand_compact_rQ(f.length),this._rQ.set(f,this._rQlen),this._rQlen+=f.length},_recv_message:function(f){try{this._decode_message(f.data),0<this.rQlen()?(this._eventHandlers.message(),this._rQlen==this._rQi?(this._rQlen=0,this._rQi=0):this._rQlen>this._rQmax&&this._expand_compact_rQ()):__WEBPACK_IMPORTED_MODULE_0__util__.a.Debug("Ignoring empty message")}catch(h){f="";h.name&&(f=(f+="\n    name: "+h.name+"\n")+("    message: "+h.message+"\n")),void 0!==h.description&&(f+="    description: "+h.description+"\n"),void 0!==h.stack&&(f+=h.stack),0<f.length?__WEBPACK_IMPORTED_MODULE_0__util__.a.Error("recv_message, caught exception: "+f):__WEBPACK_IMPORTED_MODULE_0__util__.a.Error("recv_message, caught exception: "+h),void 0===h.name?this._eventHandlers.error(h):this._eventHandlers.error(h.name+": "+h.message)}}}}.call(__webpack_exports__,__webpack_require__(3)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__websock__=__webpack_require__(0);window.SyncPlay=function(a,b,c){function e(){(w=new __WEBPACK_IMPORTED_MODULE_0__websock__.a).open(v),w.on("open",()=>{var N;N={Hello:{username:s,room:{name:t},version:r}},null!=u&&void 0!==window.md5&&(N.Hello.password=window.md5(u)),m(N),m({List:null})}),w.on("message",g)}function g(){for(var Q,T,S,O=w.rQshiftStr().split("\r\n"),P=0;P<O.length&&""!=O[P];P+=1){if((Q=JSON.parse(O[P])).hasOwnProperty("Hello")&&(x=Q.Hello.motd,k("joined"),y({connected:!0,motd:x})),Q.hasOwnProperty("Error"))throw Q.Error;if(Q.hasOwnProperty("Set")&&Q.Set.hasOwnProperty("user"))for(var R in Q.Set.user)Q.Set.user[R].hasOwnProperty("event")&&(S=new CustomEvent("userlist",{detail:{user:Object.keys(Q.Set.user)[0],evt:Object.keys(Q.Set.user[R].event)[0]},bubbles:!0,cancelable:!0}),D.dispatchEvent(S)),Q.Set.user[R].hasOwnProperty("file")&&Object.keys(Q.Set.user)[0]!=s&&(S=new CustomEvent("fileupdate",{detail:Q.Set,bubbles:!0,cancelable:!0}),D.dispatchEvent(S));Q.hasOwnProperty("List")&&(T=Object.keys(Q.List)[0],S=new CustomEvent("listusers",{detail:Q.List[T],bubbles:!0,cancelable:!0}),D.dispatchEvent(S)),Q.hasOwnProperty("State")&&(C=Q.State.ping.yourLatency,L=Q.State.ping.latencyCalculation,Q.State.hasOwnProperty("ignoringOnTheFly")&&((T=Q.State.ignoringOnTheFly).hasOwnProperty("server")?(G=T.server,F=0,M=!1):T.hasOwnProperty("client")&&T.client==F&&(F=0,M=!1)),Q.State.playstate.hasOwnProperty("setBy")&&null!=Q.State.playstate.setBy&&Q.State.playstate.setBy!=s&&(S=new CustomEvent("userevent",{detail:Q.State.playstate,bubbles:!0,cancelable:!0}),M||F||(M=!1,D.dispatchEvent(S))),function(N,O,P,Q,R){var S={};void 0!==R&&(0!=F&&0==G||null==N||null==O||(S.playstate={},S.playstate.position=N(J),S.playstate.paused=O(J),P&&(S.playstate.doSeek=P,K=!1)),S.ping={},null!=Q&&(S.ping.latencyCalculation=Q),S.ping.clientLatencyCalculation=(new Date).getTime()/1e3,S.ping.clientRtt=C,R&&(F+=1),(G||F)&&(S.ignoringOnTheFly={},G&&(S.ignoringOnTheFly.server=G,G=0),F&&(S.ignoringOnTheFly.client=F)),m({State:S}))}(I,H,K,L,M))}}function k(N){var O=s,P={Set:{user:{}}},Q={room:{name:t},event:{}};Q.event[N]=!0,P.Set.user[O]=Q,m(P)}function m(N){var O=JSON.stringify(N);w.send_string(N=O+"\r\n")}var s,t,v,w,y,D,H,I,J,L,r="1.3.4",u=null,x=null,C=0,F=0,G=0,K=!1,M=!1;return v=(a=a).url,t=a.room,D=c,s=a.name,y=b,a.hasOwnProperty("password")&&(u=a.password),{connect:function(){e()},set_file:function(N,O,P){m({Set:{file:{duration:O,name:N,size:P}}})},setStateGetters:function(N,O){J=O,H=N.is_paused,I=N.get_position,H=H.bind(O),I=I.bind(O)},disconnect:function(){k("left")},playPause:function(){M=!0},seeked:function(){M=K=!0}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var a,Util={};Array.prototype.push8=function(a){this.push(255&a)},Array.prototype.push16=function(a){this.push(255&a>>8,255&a)},Array.prototype.push32=function(a){this.push(255&a>>24,255&a>>16,255&a>>8,255&a)},Array.prototype.map||(Array.prototype.map=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=Array(b),d=arguments[1],g=0;g<b;g++)g in this&&(c[g]=a.call(d,this[g],g,this));return c}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},Util._log_level="warn",Util.init_logging=function(a){switch(void 0===a?a=Util._log_level:Util._log_level=a,void 0===window.console&&(void 0===window.opera?window.console={log:function(){},warn:function(){},error:function(){}}:window.console={log:window.opera.postError,warn:window.opera.postError,error:window.opera.postError}),Util.Debug=Util.Info=Util.Warn=Util.Error=function(){},a){case"debug":Util.Debug=function(){};case"info":Util.Info=function(){};case"warn":Util.Warn=function(){};case"error":Util.Error=function(){};case"none":break;default:throw"invalid logging type '"+a+"'"}},Util.get_logging=function(){return Util._log_level},Util.init_logging(),Util.conf_default=function(a,b,c,d,g,h,j,k){var l=function(o){return h in{arr:1,array:1}&&void 0!==o?a[d][o]:a[d]},n=function(o,p){h in{boolean:1,bool:1}?o=!(!o||o in{0:1,no:1,false:1}):h in{integer:1,int:1}?o=parseInt(o,10):"str"===h?o+="":"func"!==h||o||(o=function(){}),void 0===p?a[d]=o:a[d][p]=o};b[d+"_description"]=k,void 0===b["get_"+d]&&(b["get_"+d]=l),void 0===b["set_"+d]&&(b["set_"+d]=function(o,p){if(g in{RO:1,ro:1})throw d+" is read-only";if(g in{WO:1,wo:1}&&void 0!==a[d])throw d+" can only be set once";n(o,p)}),void 0===c[d]?h in{arr:1,array:1}&&!(j instanceof Array)&&(j=[]):j=c[d],n(j)},Util.conf_defaults=function(a,b,c,d){for(var g=0;g<d.length;g++)Util.conf_default(a,b,c,d[g][0],d[g][1],d[g][2],d[g][3],d[g][4])},Util.get_include_uri=function(){return"undefined"==typeof INCLUDE_URI?"include/":INCLUDE_URI},Util._loading_scripts=[],Util._pending_scripts=[],Util.load_scripts=function(a){for(var c,b=document.getElementsByTagName("head")[0],d=Util._loading_scripts,g=Util._pending_scripts,h=0;h<a.length;h++)(c=document.createElement("script")).type="text/javascript",c.src=Util.get_include_uri()+a[h],c.onload=c.onreadystatechange=function(){for(;0<d.length&&("loaded"===d[0].readyState||"complete"===d[0].readyState);){var k=d.shift();b.appendChild(k)}(!this.readyState||Util.Engine.presto&&"loaded"===this.readyState||"complete"===this.readyState)&&0<=g.indexOf(this)&&(this.onload=this.onreadystatechange=null,g.splice(g.indexOf(this),1),0===g.length&&window.onscriptsload&&window.onscriptsload())},Util.Engine.trident?d.push(c):(c.async=!1,b.appendChild(c)),g.push(c)},Util.getPosition=function(a){var b=0,c=0;if(a.offsetParent)for(;b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;);return{x:b,y:c}},Util.getEventPosition=function(a,b,c){var g,h,a=a||window.event;return(a=a.changedTouches?a.changedTouches[0]:a.touches?a.touches[0]:a).pageX||a.pageY?(g=a.pageX,h=a.pageY):(a.clientX||a.clientY)&&(g=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,h=a.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:(g-(a=Util.getPosition(b)).x)/(c=void 0===c?1:c),y:(h-a.y)/c}},Util.addEvent=function(a,b,c){if(a.attachEvent)return a.attachEvent("on"+b,c);if(a.addEventListener)return a.addEventListener(b,c,!1),!0;throw"Handler could not be attached"},Util.removeEvent=function(a,b,c){if(a.detachEvent)return a.detachEvent("on"+b,c);if(a.removeEventListener)return a.removeEventListener(b,c,!1),!0;throw"Handler could not be removed"},Util.stopEvent=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1},Util.Features={xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},Util.Engine={presto:!!window.opera,trident:!!window.ActiveXObject&&(window.XMLHttpRequest?document.querySelectorAll?6:5:4),webkit:function(){try{return!navigator.taintEnabled&&(Util.Features.xpath?Util.Features.query?525:420:419)}catch(a){return!1}}(),gecko:(document.getBoxObjectFor||null!=window.mozInnerScreenX)&&(document.getElementsByClassName?19:18)},Util.Engine.webkit&&(Util.Engine.webkit=(a=Util.Engine.webkit,a=(navigator.userAgent.match(/WebKit\/([0-9.]*) /)||["",a])[1],parseFloat(a,10))),__webpack_exports__.a=Util},function(module,exports){module.exports=function(originalModule){var module;return originalModule.webpackPolyfill||((module=Object.create(originalModule)).children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1),module}}]);