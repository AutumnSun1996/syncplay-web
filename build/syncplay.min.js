!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__;void 0!==(exports="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){function a(b,c,d){function f(o,p){var q=document.createEvent("CustomEvent");return q.initCustomEvent(o,!1,!1,p),q}var i,g={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"arraybuffer"},h=(d=d||{},new TextEncoder("utf8"));for(i in g)this[i]=(void 0===d[i]?g:d)[i];this.url=b,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var k,j=this,l=!1,m=!1,n=document.createElement("div");n.addEventListener("open",function(o){j.onopen(o)}),n.addEventListener("close",function(o){j.onclose(o)}),n.addEventListener("connecting",function(o){j.onconnecting(o)}),n.addEventListener("message",function(o){j.onmessage(o)}),n.addEventListener("error",function(o){j.onerror(o)}),this.addEventListener=n.addEventListener.bind(n),this.removeEventListener=n.removeEventListener.bind(n),this.dispatchEvent=n.dispatchEvent.bind(n),this.open=function(o){if((k=new WebSocket(j.url,c||[])).binaryType=this.binaryType,o){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else n.dispatchEvent(f("connecting")),this.reconnectAttempts=0;j.debug;var p=k,q=setTimeout(function(){j.debug,m=!0,p.close(),m=!1},j.timeoutInterval);k.onopen=function(){clearTimeout(q),j.debug,j.protocol=k.protocol,j.readyState=WebSocket.OPEN,j.reconnectAttempts=0;var t=f("open");t.isReconnect=o,o=!1,n.dispatchEvent(t)},k.onclose=function(r){var t;clearTimeout(void 0),k=null,l?(j.readyState=WebSocket.CLOSED,n.dispatchEvent(f("close"))):(j.readyState=WebSocket.CONNECTING,(t=f("connecting")).code=r.code,t.reason=r.reason,t.wasClean=r.wasClean,n.dispatchEvent(t),o||m||(j.debug,n.dispatchEvent(f("close"))),r=j.reconnectInterval*Math.pow(j.reconnectDecay,j.reconnectAttempts),setTimeout(function(){j.reconnectAttempts++,j.open(!0)},r>j.maxReconnectInterval?j.maxReconnectInterval:r))},k.onmessage=function(r){j.debug;var t=f("message");t.data=r.data,n.dispatchEvent(t)},k.onerror=function(){j.debug,l||n.dispatchEvent(f("error"))}},!0===this.automaticOpen&&this.open(!1),this.send=function(o){if(k)return j.debug,k.send(o);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.send_string=function(o){this.send(h.encode(o))},this.close=function(o,p){l=!0,void 0===o&&(o=1e3),k&&k.close(o,p)},this.refresh=function(){k&&k.close()}}if("WebSocket"in window)return a.prototype.onopen=function(){},a.prototype.onclose=function(){},a.prototype.onconnecting=function(){},a.prototype.onmessage=function(){},a.prototype.onerror=function(){},a.debugAll=!1,a.CONNECTING=WebSocket.CONNECTING,a.OPEN=WebSocket.OPEN,a.CLOSING=WebSocket.CLOSING,a.CLOSED=WebSocket.CLOSED,a})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,[]):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=exports)},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __webpack_exports__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0__ReconnectingWebSocket___default=__webpack_require__.n(__webpack_exports__);window.SyncPlay=function(a,b,c,d){function h(K){for(var O,R,T,Q,M=I.decode(K.data).split("\r\n"),N=0;N<M.length&&""!=M[N];++N){if((O=JSON.parse(M[N])).hasOwnProperty("Hello")&&(w=O.Hello.motd,x({connected:!0,motd:w}),r!==O.Hello.username&&(r=O.Hello.username,C.dispatchEvent(new CustomEvent("namechange",{detail:{username:r}}))),function(K){var L=r,M={Set:{user:{}}},N={room:{name:s},event:{}};N.event[K]=!0,M.Set.user[L]=N,n(M)}("joined")),O.hasOwnProperty("Error"))throw O.Error;if(O.hasOwnProperty("Set")&&O.Set.hasOwnProperty("user"))for(var P in O.Set.user)O.Set.user[P].hasOwnProperty("event")&&(Q=new CustomEvent("userlist",{detail:{user:Object.keys(O.Set.user)[0],evt:Object.keys(O.Set.user[P].event)[0]},bubbles:!0,cancelable:!0}),C.dispatchEvent(Q)),O.Set.user[P].hasOwnProperty("file")&&Object.keys(O.Set.user)[0]!=r&&(Q=new CustomEvent("fileupdate",{detail:O.Set,bubbles:!0,cancelable:!0}),C.dispatchEvent(Q));O.hasOwnProperty("List")&&(R=Object.keys(O.List)[0],Q=new CustomEvent("listusers",{detail:O.List[R],bubbles:!0,cancelable:!0}),C.dispatchEvent(Q)),O.hasOwnProperty("State")&&(B=O.State.ping.yourLatency,w=O.State.ping.latencyCalculation,J?((R=O.State.playstate).setBy&&(R.doSeek=!0,Q=new CustomEvent("userevent",{detail:R,bubbles:!0,cancelable:!0}),C.dispatchEvent(Q)),J=!1):(O.State.hasOwnProperty("ignoringOnTheFly")&&((T=O.State.ignoringOnTheFly).hasOwnProperty("server")?(E=T.server,D=0,H=!1):T.hasOwnProperty("client")&&T.client==D&&(D=0,H=!1)),O.State.playstate.hasOwnProperty("setBy")&&null!=O.State.playstate.setBy&&O.State.playstate.setBy!=r&&(Q=new CustomEvent("userevent",{detail:O.State.playstate,bubbles:!0,cancelable:!0}),H||D||(H=!1,C.dispatchEvent(Q))),function(K,L,M){var N={};void 0!==M&&(0!=D&&0==E||(N.playstate={},N.playstate.position=C.currentTime,N.playstate.paused=C.paused,K&&(N.playstate.doSeek=K,F=!1)),N.ping={},null!=L&&(N.ping.latencyCalculation=L),N.ping.clientLatencyCalculation=(new Date).getTime()/1e3,N.ping.clientRtt=B,M&&(D+=1),(E||D)&&(N.ignoringOnTheFly={},E&&(N.ignoringOnTheFly.server=E,E=0),D&&(N.ignoringOnTheFly.client=D)),n({State:N}))}(F,w,H)))}}function m(){var K={Hello:{username:r,room:{name:s},version:"1.3.4"}};null!=t&&void 0!==window.md5&&(K.Hello.password=window.md5(t)),n(K),n({List:null})}function n(K){var L=JSON.stringify(K);v.send_string(K=L+"\r\n")}var r,s,u,v,x,C,w,t=null,B=0,D=0,E=0,F=!1,H=!1,I=new TextDecoder("utf8"),J=!0;return u=(b=b).url,s=b.room,C=a,r=b.name,x=c,b.hasOwnProperty("password")&&(t=b.password),{connect:function(){(v=new __WEBPACK_IMPORTED_MODULE_0__ReconnectingWebSocket___default.a(u)).onopen=m,v.onmessage=h,v.onerror=d},set_file:function(K,L,M){n({Set:{file:{duration:L,name:K,size:M}}})},disconnect:function(){v.close()},playPause:function(){H=!0},seeked:function(){H=F=!0}}}}]);